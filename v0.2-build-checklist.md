# v0.2 – Firewall Hardening Checklist

## Goal
Reduce attack surface by enabling UFW with a default deny inbound policy, while keeping required services reachable.

---

## Pre-check
- [ ] Confirm server IP (example: `ip -4 addr`)
- [ ] Confirm SSH works locally (`ssh localhost`) and from another device if possible

---

## Firewall Setup (UFW)
- [ ] Confirm UFW installed (`ufw --version`)
- [ ] Set defaults:
  - [ ] `sudo ufw default deny incoming`
  - [ ] `sudo ufw default allow outgoing`
- [ ] Allow required services:
  - [ ] Allow SSH: `sudo ufw allow 22/tcp`
  - [ ] Allow HTTP: `sudo ufw allow 80/tcp`
- [ ] Optional (only if you truly need them for your mining/p2pool setup):
  - [ ] Allow 18080/tcp
  - [ ] Allow 3333/tcp
  - [ ] Allow 3334/tcp
- [ ] Enable UFW: `sudo ufw enable`

---

## Verification
- [ ] `sudo ufw status verbose`
- [ ] `sudo ss -tulpn | egrep ':(22|80|18080|3333|3334)\s'`
- [ ] Apache reachable locally:
  - [ ] `curl -I http://127.0.0.1`
- [ ] Apache reachable via LAN:
  - [ ] `curl -I http://<server-ip>`
- [ ] SSH still reachable after firewall enabled:
  - [ ] `ssh <user>@<server-ip>`

---

## Evidence (GitHub)
- [ ] Add evidence file: `evidence/2025-12-27-ufw-proof.md`
  - Include output of:
    - `sudo ufw status verbose`
    - `sudo ufw status numbered`
    - `curl -I http://<server-ip>`
    - `sudo ss -tulpn | egrep ':(22|80|18080|3333|3334)\s'`

---

## Version Doc
- [ ] Add/update: `versions/v0.2-firewall-hardening.md`
- [ ] Update README “Current build” to v0.2 (once verified)

---

## Done Criteria
- [ ] UFW active + default deny inbound
- [ ] SSH + Apache still reachable
- [ ] Proof committed in `/evidence`
- [ ] v0.2 version doc committed in `/versions`
